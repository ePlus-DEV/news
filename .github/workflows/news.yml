name: "Cronjob"

on:
  schedule:
    - cron: '*/5 * * * *'
  push:
    branches: [main]

jobs:
  update-readme-with-blog:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - uses: actions/cache@v3
        with:
          path: ~/.npm
          key: ${{ runner.os }}-npm-${{ hashFiles('**/*.json') }}
          restore-keys: ${{ runner.os }}-npm-

      - &pull_news
        uses: ePlus-DEV/blog-post-workflow@v1.0.0
        with:
          retry_count: 2
          committer_email: "h250694@gmail.com"
          commit_message: Get latest news
          date_format: 'HH:MM dd/mm/yyyy'
          template: "$newline- $randomEmoji(ğŸ’¯,ğŸ”¥,ğŸ’«,ğŸš€,ğŸŒ®,ğŸ“,ğŸ¥³,ğŸ’»,ğŸ§°,ğŸŠ,ğŸ¥°,ğŸ§,ğŸ¤“,ğŸ˜,ğŸ¥¸,ğŸ¤©,ğŸ¤—,ğŸ¤”,ğŸ«£,ğŸ¤­,ğŸ¤ ,ğŸ‘¹,ğŸ‘º,ğŸ¤¡,ğŸ¤–,ğŸƒ,ğŸ˜º,ğŸ«¶,ğŸ‘,ğŸ’ª,ğŸ’„,ğŸ‘€,ğŸ§ ,ğŸ§‘â€ğŸ«,ğŸ‘¨â€ğŸ«,ğŸ’‚,ğŸ§‘â€ğŸ’»,ğŸ¥·,ğŸ’ƒ,ğŸ•´,ğŸ’¼,ğŸ“,ğŸ»,ğŸµ,ğŸ™‰,ğŸ¦„,ğŸ¦†,ğŸ¦…,ğŸ¦,ğŸ¦£,ğŸ˜,ğŸ¦’,ğŸ¦,ğŸ,ğŸ¦©,ğŸ²,ğŸŒ,ğŸŒœ,ğŸŒ,ğŸŒˆ,ğŸŒŠ,ğŸ¬,ğŸ­,ğŸš€,ğŸš¦,â›½ï¸,ğŸ—½,ğŸ¡,ğŸŒ‹,ğŸŒ,ğŸ’¡,ğŸ•¯,ğŸªœ,ğŸ§°,âš—ï¸,ğŸ”­,ğŸª„,ğŸŠ,ğŸ‰) [$title]($url) -$date"
          max_post_count: 50

      - <<: *pull_news
        with:
          feed_list: "https://vnexpress.net/rss/tin-moi-nhat.rss"
          rand_seed: "vnexpress"
          comment_tag_name: "vnexpress"

      - <<: *pull_news
        with:
          feed_list: "https://dantri.com.vn/rss/home.rss"
          rand_seed: "dantri"
          comment_tag_name: "dantri"

      - <<: *pull_news
        with:
          feed_list: "https://thanhnien.vn/rss/home.rss"
          rand_seed: "thanhnien"
          comment_tag_name: "thanhnien"

      - <<: *pull_news
        with:
          feed_list: "https://laodong.vn/rss/home.rss"
          rand_seed: "laodong"
          comment_tag_name: "laodong"

      - <<: *pull_news
        with:
          feed_list: "https://hoahoctro.tienphong.vn/rss/home.rss"
          rand_seed: "hoahoctro"
          comment_tag_name: "hoahoctro"